(function(e){function t(t){for(var n,i,o=t[0],l=t[1],c=t[2],m=0,d=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},s={app:0},r=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"29f2":function(e,t,a){},"2d19":function(e,t,a){"use strict";var n=a("5415"),s=a.n(n);s.a},3190:function(e,t,a){"use strict";var n=a("a557"),s=a.n(n);s.a},5415:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("45fc"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=a("289d"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.loggedIn?a("AppSidebar"):e._e(),e.loggedIn?e._e():a("HomeNavbar")],1)},i=[],o=a("5530"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar-page"},[n("section",{staticClass:"sidebar-layout hero is-fullheight"},[n("b-sidebar",{attrs:{position:"static",mobile:"reduce",fullheight:"",type:"is-light",open:e.open},on:{"update:open":function(t){e.open=t}}},[n("div",{staticClass:"p-1"},[n("div",{staticClass:"block"},[n("router-link",{attrs:{to:{name:"app"}}},[n("img",{attrs:{src:a("5fbe")}})])],1),n("b-menu",{staticClass:"is-custom-mobile"},[n("b-menu-list",{attrs:{label:"Меню"}},[n("b-menu-item",{attrs:{tag:"router-link",to:{name:"app_vacations"},active:"app_vacations"===this.$router.currentRoute.name,icon:"table",label:"Графики отпусков"}}),n("b-menu-item",{attrs:{tag:"router-link",to:{name:"app_smeni"},active:"app_smeni"===this.$router.currentRoute.name,icon:"clock-outline",label:"Графики смен"}}),n("b-menu-item",{attrs:{tag:"router-link",to:{name:"app_departments"},active:"app_departments"===this.$router.currentRoute.name,icon:"account-multiple",label:"Отделы"}}),n("b-menu-item",{attrs:{tag:"router-link",to:{name:"app_users"},active:"app_users"===this.$router.currentRoute.name,icon:"account",label:"Сотрудники"}}),n("b-menu-item",{attrs:{tag:"router-link",to:{name:"app_settings"},active:"app_settings"===this.$router.currentRoute.name,icon:"cog-outline",label:"Настройки"}})],1),n("b-menu-list",{attrs:{label:"Действия"}},[n("b-menu-item",{attrs:{tag:"router-link",to:{name:"logout"},icon:"logout",label:"Выход"}})],1)],1)],1)]),n("div",{staticStyle:{width:"100%","padding-left":"18px","margin-top":"20px"}},[n("router-view")],1)],1)])},c=[],u=(a("b0c0"),{data:function(){return{}},computed:{open:function(){return"app_vacations_view"!==this.$route.name}},methods:{}}),m=u,d=(a("2d19"),a("2877")),p=Object(d["a"])(m,l,c,!1,null,null,null),f=p.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("b-navbar",{staticClass:"is-light"},[n("template",{slot:"brand"},[n("b-navbar-item",{attrs:{tag:"router-link",to:{name:"home"}}},[n("img",{attrs:{src:a("5fbe"),alt:""}})])],1),n("template",{slot:"start"},[n("b-navbar-item",{attrs:{tag:"router-link",to:{name:"about"}}},[e._v("О проекте")]),n("a",{staticClass:"navbar-item",attrs:{href:"https://demo.vplanner.ru",target:"_blank"}},[e._v("Демо версия")])],1),n("template",{slot:"end"},[n("b-navbar-item",{attrs:{tag:"router-link",to:{name:"login"}}},[e._v("Войти")]),n("b-navbar-item",{attrs:{tag:"div"}},[n("router-link",{staticClass:"button is-info",attrs:{to:{name:"register"}}},[e._v("Регистрация")])],1)],1)],2)],1),n("router-view")],1)},b=[],_={name:"HomeNavbar"},h=_,g=Object(d["a"])(h,v,b,!1,null,"1cb1c3ea",null),C=g.exports,w=a("2f62"),y={name:"Master",computed:Object(o["a"])({},Object(w["b"])(["loggedIn"])),components:{AppSidebar:f,HomeNavbar:C}},k=y,x=(a("3190"),Object(d["a"])(k,r,i,!1,null,null,null)),$=x.exports,D=(a("d3b7"),a("bc3a")),O=a.n(D);n["a"].use(w["a"]),O.a.defaults.baseURL="http://vplanner.test/api";var S=localStorage.getItem("auth_token")||null;null!==S&&(O.a.defaults.headers.common["Authorization"]="Bearer "+S);var j=new w["a"].Store({state:{disabled_backend:!1,auth_token:localStorage.getItem("auth_token")||null,departments:[{id:1,name:"Загрузка списка отделов",users_count:777,date:new Date}],users:[{id:1,name:"Загрузка списка сотрудников",users_count:777,date:new Date}]},getters:{loggedIn:function(e){return!!e.disabled_backend||null!==e.auth_token},getDepartments:function(e){return e.departments},getUsers:function(e){return e.users}},mutations:{setToken:function(e,t){e.auth_token=t},setDepartments:function(e,t){e.departments=t},destroyToken:function(e){e.auth_token=null,localStorage.removeItem("auth_token")},setUsers:function(e,t){e.users=t}},actions:{retrieveToken:function(e,t){return new Promise((function(a,n){O.a.post("/login",{username:t.username,password:t.password}).then((function(t){localStorage.setItem("auth_token",t.data.token),e.commit("setToken",t.data.token),a(t)})).catch((function(e){console.log(e),n(e)}))}))},destroyToken:function(e){return new Promise((function(t){e.getters.loggedIn&&e.commit("destroyToken"),t()}))},registerUser:function(e,t){return new Promise((function(e,a){O.a.post("/user/register",{name:t.name,organization_name:t.organization_name,password:t.password,email:t.email}).then((function(t){e(t)})).catch((function(e){a(e)}))}))},retrieveDepartments:function(e){return new Promise((function(t,a){O.a.get("/departments").then((function(a){e.commit("setDepartments",a.data),t()})).catch((function(e){console.log(e),a(e)}))}))},retrieveUsers:function(e){return new Promise((function(t,a){O.a.get("/users").then((function(a){e.commit("setUsers",a.data),t()})).catch((function(e){console.log(e),a(e)}))}))},addUser:function(e,t){return new Promise((function(e,a){O.a.post("/user",{name:t.name,department_id:t.department_id,email:t.email}).then((function(t){e(t)})).catch((function(e){a(e)}))}))},addDepartment:function(e,t){return new Promise((function(e,a){O.a.post("/departments",{name:t.name}).then((function(t){e(t)})).catch((function(e){a(e)}))}))}}}),E=a("8c4f"),P=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},A=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"hero is-medium is-bold"},[a("div",{staticClass:"hero-head"}),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container has-text-centered"},[a("h1",{staticClass:"title has-text-grey"},[e._v(" График смен и отпусков для ваших сотрудников ")]),a("br"),a("h2",{staticClass:"subtitle"},[e._v(" Бесплатный онлайн-сервис для ведения графиков смен и отпусков сотрудников вашего предприятия. "),a("br"),e._v(" Попробуйте демо-версию и решите, подходит ли вам наш сервис: ")]),a("a",{staticClass:"button is-info is-large",attrs:{href:"https://demo.vplanner.ru",target:"_blank"}},[e._v("Открыть демо-версию")])])])])}],M={name:"Home"},z=M,q=Object(d["a"])(z,P,A,!1,null,"11b23e6a",null),U=q.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{staticClass:"section"},[a("div",{staticClass:"container"},[a("div",{staticClass:"columns"},[e._m(0),a("div",{staticClass:"column is-4-desktop is-12-tablet"},[a("p",{staticClass:"title is-4 has-text-grey"},[e._v("Есть вопросы? Свяжитесь с нами:")]),a("form",{attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.askQuestion(t)}}},[a("section",[a("b-field",{attrs:{label:"Ваше имя"}},[a("b-input",{attrs:{icon:"account",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("b-field",{attrs:{label:"Email для ответа"}},[a("b-input",{attrs:{type:"email",icon:"email",maxlength:"50",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("b-field",{attrs:{label:"Ваш вопрос"}},[a("b-input",{attrs:{maxlength:"500",type:"textarea",required:""},model:{value:e.question,callback:function(t){e.question=t},expression:"question"}})],1),a("b-field",[a("b-checkbox",{attrs:{required:""}},[e._v(" Я согласен на "),a("a",{attrs:{href:"/personal",target:"_blank"}},[e._v("обработку")]),e._v(" персональных данных ")])],1),a("b-button",{attrs:{type:"is-info","native-type":"submit",expanded:""}},[e._v("Задать вопрос")])],1)])])])])])])},I=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column is-8"},[a("div",{staticClass:"content"},[a("h1",{staticClass:"title has-text-grey"},[e._v("О проекте")]),a("p",[e._v(" Онлайн-сервис vplanner.ru создан, чтобы предоставить вам инструмент для управления графиками смен и графиками отпусков. Ваши сотрудники смогут участвовать в планировании, а также получать уведомления о своих предстоящих рабочих сменах и/или отпусках, а также коллег по отделу. "),a("br"),e._v(" Проект бесплатный, для использования вам достаточно иметь адрес электронной почты. ")]),a("h2",{staticClass:"subtitle has-text-grey"},[e._v("Как начать пользоваться сервисом?")]),a("p",[e._v(" Достаточно загеристрироваться, указав ваше имя, email и название огранизации. "),a("br"),e._v(" После регистрации нужно будет уделить немного времени, чтобы добавить ваши отделы, а также сотрудников, которые в них работают. "),a("br"),e._v(" Все добавленные в организацию сотрудники смогут самостоятельно заниматься планированием рабочих смен, отпусков, командировок, больничных. ")]),a("h2",{staticClass:"subtitle has-text-grey"},[e._v("Полный список возможностей")]),a("ul",[a("li",[e._v("Графики рабочих смен с разбивкой по отделам")]),a("li",[e._v("Графики отпусков/командировок/больничных/day-off и т.д. (нахождения не на работе в рабочее время) ")]),a("li",[e._v("Статистика по отработанным дням и дням не на работе")]),a("li",[e._v("Уведомления о предстоящих событиях")]),a("li",[e._v("История по всем изменениям в графиках")]),a("li",[e._v("Комментарии в сменах для взаимодействия с коллегами")]),a("li",[e._v("Современные технологии, обеспечивающие высокую скорость работы сервиса")])])])])}],T={name:"About",data:function(){return{name:"",email:"",question:"",password:""}},methods:{askQuestion:function(){}}},V=T,F=Object(d["a"])(V,L,I,!1,null,"c77bd020",null),R=F.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-form"},[a("h1",{staticClass:"title has-text-grey"},[e._v("Авторизация")]),a("form",{attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[a("b-field",{attrs:{label:"Email"}},[a("b-input",{attrs:{type:"email",rounded:"",icon:"email",size:"is-medium",maxlength:"50",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),a("b-field",{attrs:{label:"Пароль"}},[a("b-input",{attrs:{type:"password",rounded:"",icon:"lock",size:"is-medium","password-reveal":"",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("br"),a("b-button",{attrs:{type:"is-info","native-type":"submit",size:"is-large",expanded:""}},[e._v("Войти")])],1)])},N=[],G={name:"login",data:function(){return{username:"",password:""}},methods:{login:function(){var e=this;this.$store.dispatch("retrieveToken",{username:this.username,password:this.password}).then((function(){e.$router.push({name:"app"})}))}}},H=G,Q=(a("6887"),Object(d["a"])(H,J,N,!1,null,null,null)),B=Q.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},W=[],X={name:"Logout",created:function(){var e=this;this.$store.dispatch("destroyToken").then((function(){e.$router.push({name:"home"})}))}},Y=X,Z=Object(d["a"])(Y,K,W,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-form"},[a("h1",{staticClass:"title has-text-grey"},[e._v("Регистрация")]),a("form",{staticStyle:{"margin-bottom":"100px"},attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[a("b-field",{attrs:{label:"Название вашей организации"}},[a("b-input",{attrs:{type:"text",rounded:"",icon:"account-multiple",size:"is-medium",maxlength:"100",required:""},model:{value:e.organization_name,callback:function(t){e.organization_name=t},expression:"organization_name"}})],1),a("b-field",{attrs:{label:"Ваше имя"}},[a("b-input",{attrs:{type:"text",rounded:"",icon:"account",size:"is-medium",maxlength:"100",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("b-field",{attrs:{label:"Email",type:{"is-danger":""!==e.server_error},message:e.server_error}},[a("b-input",{attrs:{type:"email",rounded:"",icon:"email",size:"is-medium",maxlength:"50",required:""},nativeOn:{keyup:function(t){return e.clearServerError()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("b-field",{attrs:{label:"Пароль"}},[a("b-input",{attrs:{type:"password",rounded:"",icon:"lock",size:"is-medium","password-reveal":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("br"),a("b-field",[a("b-checkbox",{attrs:{required:""}},[e._v(" Я согласен на "),a("a",{attrs:{href:"/personal",target:"_blank"}},[e._v("обработку")]),e._v(" персональных данных ")])],1),a("b-button",{attrs:{type:"is-info","native-type":"submit",size:"is-large",expanded:""}},[e._v("Создать аккаунт")])],1)])},ae=[],ne={data:function(){return{organization_name:"",name:"",email:"",password:"",server_error:""}},methods:{register:function(){var e=this;this.$store.dispatch("registerUser",{organization_name:this.organization_name,name:this.name,email:this.email,password:this.password}).then((function(){e.$router.push({name:"login"})})).catch((function(t){"email already taken"===t.response.data.result?e.server_error="Пользователь с таким email уже существует":e.server_error=t.response.data.result}))},clearServerError:function(){this.server_error=""}}},se=ne,re=Object(d["a"])(se,te,ae,!1,null,null,null),ie=re.exports,oe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},le=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",staticStyle:{"max-width":"800px"}},[a("div",{staticClass:"column content"},[a("h2",{staticClass:"title has-text-grey"},[e._v("Согласие на обработку персональных данных")]),a("p",[e._v("Предоставляя свои персональные данные Пользователь даёт согласие на обработку, хранение и использование своих персональных данных на основании ФЗ № 152-ФЗ «О персональных данных» от 27.07.2006 г. в следующих целях: ")]),a("ul",[a("li",[e._v("Осуществление клиентской поддержки")]),a("li",[e._v("Получения Пользователем информации о маркетинговых событиях")]),a("li",[e._v("Проведения аудита и прочих внутренних исследований с целью повышения качества предоставляемых услуг.")])]),a("p",[e._v(" Под персональными данными подразумевается любая информация личного характера, позволяющая установить личность Пользователя, такая как: ")]),a("ul",{staticClass:"list-group"},[a("li",[e._v("Фамилия, Имя, Отчество")]),a("li",[e._v("Дата рождения")]),a("li",[e._v("Контактный телефон")]),a("li",[e._v("Адрес электронной почты")]),a("li",[e._v("Почтовый адрес")])]),a("p",[e._v(" Персональные данные Пользователей хранятся исключительно на электронных носителях и обрабатываются с использованием автоматизированных систем, за исключением случаев, когда неавтоматизированная обработка персональных данных необходима в связи с исполнением требований законодательства. ")]),a("p",[e._v(" Компания обязуется не передавать полученные персональные данные третьим лицам, за исключением следующих случаев: ")]),a("ul",[a("li",[e._v("По запросам уполномоченных органов государственной власти РФ только по основаниям и в порядке, установленным законодательством РФ ")]),a("li",[e._v("Стратегическим партнерам, которые работают с Компанией для предоставления продуктов и услуг, или тем из них, которые помогают Компании реализовывать продукты и услуги потребителям. Мы предоставляем третьим лицам минимальный объем персональных данных, необходимый только для оказания требуемой услуги или проведения необходимой транзакции. ")])]),a("p",[e._v(" Компания оставляет за собой право вносить изменения в одностороннем порядке в настоящие правила, при условии, что изменения не противоречат действующему законодательству РФ. Изменения условий настоящих правил вступают в силу после их публикации на Сайте. ")])])])}],ce={name:"Personal"},ue=ce,me=Object(d["a"])(ue,oe,le,!1,null,"40c13444",null),de=me.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("h1",{staticClass:"title has-text-grey"},[e._v("Организация «"+e._s(e.organization)+"»")])]),a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-vertical is-10"},[a("div",{staticClass:"tile"},[a("div",{staticClass:"tile is-parent"},[a("article",{staticClass:"tile is-child notification is-light"},[a("p",{staticClass:"subtitle"},[e._v("Ближайшие смены")]),a("section",[a("b-table",{attrs:{data:e.data,striped:"",narrowed:"",hoverable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"first_name",label:"Отдел"}},[e._v(" "+e._s(t.row.first_name)+" ")]),a("b-table-column",{attrs:{field:"last_name",label:"Период"}},[e._v(" "+e._s(t.row.last_name)+" ")]),a("b-table-column",{attrs:{field:"date",label:"Date",centered:""}},[a("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(t.row.date).toLocaleDateString())+" ")])]),a("b-table-column",{attrs:{label:"Gender"}},[a("span",[a("b-icon",{attrs:{pack:"fas",icon:"Male"===t.row.gender?"mars":"venus"}}),e._v(" "+e._s(t.row.gender)+" ")],1)])]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),a("p",[e._v("Nothing here.")])])])])],2)],1)])]),a("div",{staticClass:"tile is-parent"},[a("article",{staticClass:"tile is-child notification is-light"},[a("p",{staticClass:"subtitle"},[e._v("Ближайшие отпуска")]),a("section",[a("b-table",{attrs:{data:e.data,striped:"",narrowed:"",hoverable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"first_name",label:"Сотрудник"}},[e._v(" "+e._s(t.row.first_name)+" ")]),a("b-table-column",{attrs:{field:"first_name",label:"Отдел"}},[e._v(" "+e._s(t.row.first_name)+" ")]),a("b-table-column",{attrs:{field:"date",label:"Период",centered:""}},[a("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(t.row.date).toLocaleDateString())+" ")]),e._v(" — "),a("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(t.row.date).toLocaleDateString())+" ")])])]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),a("p",[e._v("Nothing here.")])])])])],2)],1)])])]),e._m(0)]),e._m(1)])])},fe=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tile is-parent"},[a("article",{staticClass:"tile is-child"},[a("p",{staticClass:"subtitle"},[e._v("Последние события")]),a("div",{staticClass:"content"},[a("ul",[a("li",[e._v("user_name добавил заявку на отпуск с ... по ...")]),a("li",[e._v("user_name будет выйдет на смену в department_name с ... по ... ")]),a("li",[e._v("user_name находится в отпуске с ... по ...")]),a("li",[e._v("user_name вернулся из отпуска")]),a("li",[e._v("user_name добавил в организацию second_user_name")]),a("li",[e._v("user_name запросил замену для себя на date")]),a("li",[e._v("...")])])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tile is-parent"},[a("article",{staticClass:"tile is-child"},[a("div",{staticClass:"content"},[a("p",{staticClass:"title"}),a("p",{staticClass:"subtitle"}),a("div",{staticClass:"content"})])])])}],ve={name:"App",data:function(){var e=[{id:1,first_name:"Jesse",last_name:"Simmons",date:"2016/10/15 13:43:27",gender:"Male"},{id:2,first_name:"John",last_name:"Jacobs",date:"2016/12/15 06:00:53",gender:"Male"},{id:3,first_name:"Tina",last_name:"Gilbert",date:"2016/04/26 06:26:28",gender:"Female"},{id:4,first_name:"Clarence",last_name:"Flores",date:"2016/04/10 10:28:46",gender:"Male"},{id:5,first_name:"Anne",last_name:"Lee",date:"2016/12/06 14:38:38",gender:"Female"}];return{data:e,organization:"Рога и копыта"}}},be=ve,_e=Object(d["a"])(be,pe,fe,!1,null,null,null),he=_e.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" Графики отпусков "),a("router-link",{attrs:{to:{name:"app_vacations_view",params:{id:1}}}},[e._v("Тестовый график отпусков")])],1)},Ce=[],we={name:"AppVacations"},ye=we,ke=Object(d["a"])(ye,ge,Ce,!1,null,"191e2fb3",null),xe=ke.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("nav",{staticClass:"breadcrumb",attrs:{"aria-label":"breadcrumbs"}},[a("ul",[a("li",[a("router-link",{attrs:{to:{name:"app"}}},[e._v("Vplanner.ru")])],1),a("li",[a("router-link",{attrs:{to:{name:"app_vacations"}}},[e._v("Графики отпусков")])],1),e._m(0)])]),a("section",[a("b-field",[a("b-radio-button",{attrs:{"native-value":"week",type:"is-info"},model:{value:e.viewMode,callback:function(t){e.viewMode=t},expression:"viewMode"}},["week"===e.viewMode?a("b-icon",{attrs:{icon:"check"}}):e._e(),a("span",[e._v("Столбцы: недели")])],1),a("b-radio-button",{attrs:{"native-value":"day",type:"is-info"},model:{value:e.viewMode,callback:function(t){e.viewMode=t},expression:"viewMode"}},["day"===e.viewMode?a("b-icon",{attrs:{icon:"check"}}):e._e(),a("span",[e._v("Столбцы: дни")])],1)],1)],1),a("br"),a("GSTC",{attrs:{config:e.config},on:{state:e.onState}})],1)},De=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"is-active"},[a("a",{attrs:{href:"#","aria-current":"page"}},[e._v("График отпусков 2020")])])}],Oe=(a("4160"),a("ac1f"),a("1276"),a("d70f")),Se=[],je={name:"AppVacationsView",components:{GSTC:Oe["a"]},watch:{viewMode:function(e){this.setViewMode(e)}},data:function(){return{viewMode:"week",config:{height:300,locale:{months:"Январь_Февраль_Март_Апрель_Май_Июнь_Июль_Август_Сентябрь_Октябрь_Ноябрь_Декабрь".split("_"),weekdaysShort:"Вс_Пн_Вт_Ср_Чт_Пт_Сб".split("_")},actions:{},list:{toggle:{display:!1},rows:{1:{id:"1",label:"Станислав Лозицкий"},2:{id:"2",label:"Соколов Михаил"}},columns:{data:{label:{id:"label",data:"label",width:150,header:{content:"Сотрудник"}}}}},chart:{items:{1:{id:"1",rowId:"1",label:"1 июня - 17 июня",time:{start:15778368e5,end:1580479091e3},style:{background:"green"}},2:{id:"2",rowId:"1",label:"1 июня - 17 декабря",time:{start:1588341491e3,end:1589983091e3},style:{background:"green"}},3:{id:"3",rowId:"2",label:"1 июня - 17 декабря",time:{start:1588341491e3,end:1589983091e3},style:{background:"red"}}},time:{period:"week",from:15778368e5,to:1609459199e3,zoom:100}}}}},methods:{onState:function(e){this.state=e,Se.push(e.subscribe("config.chart.items.1",(function(e){console.log("item 1 changed",e)}))),Se.push(e.subscribe("config.list.rows.1",(function(e){console.log("row 1 changed",e)})))},setViewMode:function(e){"week"===e?this.state.update("config.chart.time.zoom",24):this.state.update("config.chart.time.zoom",22)}},mounted:function(){this.state.update("config.chart.time.zoom",24)},beforeDestroy:function(){Se.forEach((function(e){return e()}))}},Ee=je,Pe=Object(d["a"])(Ee,$e,De,!1,null,"c8f37d9a",null),Ae=Pe.exports,Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен Графики смен ")])},ze=[],qe={name:"AppSmeni"},Ue=qe,Le=Object(d["a"])(Ue,Me,ze,!1,null,"5797e247",null),Ie=Le.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-three-fifths is-8"},[a("CreateUserForm"),a("b-table",{attrs:{data:e.getUsers,striped:!0,hoverable:!0,loading:e.isLoading},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"name",label:"ФИО"}},[e._v(" "+e._s(t.row.name)+" ")]),a("b-table-column",{attrs:{field:"department_name",label:"Отдел"}},[a("ul",{staticClass:"demo",attrs:{id:"v-for-object"}},e._l(t.row.departments,(function(t){return a("li",{key:t.id},[e._v(" "+e._s(t.name)+" ")])})),0)]),a("b-table-column",{attrs:{field:"email",label:"Email"}},[e._v(" "+e._s(t.row.email)+" ")]),a("b-table-column",{attrs:{field:"date",label:"Добавлен",centered:""}},[a("span",{staticClass:"tag is-info"},[e._v(" "+e._s(new Date(t.row.date).toLocaleDateString())+" ")])])]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),a("div",[e._v(" У вас еще нет ни одного сотрудника. "),a("br")])])])])],2)],1)])},Ve=[],Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("button",{staticClass:"button is-info",on:{click:function(t){e.isComponentModalActive=!0,e.getDepartmentsList()}}},[e._v(" Добавить сотрудника ")]),a("b-modal",{attrs:{active:e.isComponentModalActive,"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-modal":""},on:{"update:active":function(t){e.isComponentModalActive=t}}},[a("form",{attrs:{action:""},on:{submit:function(t){return t.preventDefault(),e.addUser(t)}}},[a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[e._v("Добавить сотрудника")])]),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"Имя"}},[a("b-input",{attrs:{type:"text",rounded:"",icon:"account",size:"is-medium",value:e.formProps.name,required:""},model:{value:e.formProps.name,callback:function(t){e.$set(e.formProps,"name",t)},expression:"formProps.name"}})],1),a("b-field",{attrs:{label:"Email",type:{"is-danger":""!==e.server_error},message:e.server_error}},[a("b-input",{attrs:{type:"email",rounded:"",icon:"email",size:"is-medium",value:e.formProps.email,required:""},nativeOn:{keyup:function(t){return e.clearServerError()}},model:{value:e.formProps.email,callback:function(t){e.$set(e.formProps,"email",t)},expression:"formProps.email"}})],1),a("b-field",{attrs:{label:"Выберите отдел"}},[a("b-select",{attrs:{size:"is-medium",icon:"account-multiple",rounded:"",expanded:""},model:{value:e.formProps.department,callback:function(t){e.$set(e.formProps,"department",t)},expression:"formProps.department"}},e._l(this.getDepartments,(function(t){return a("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.name))])})),0)],1)],1),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){e.isComponentModalActive=!1}}},[e._v("Отмена")]),a("button",{staticClass:"button is-primary",attrs:{"native-type":"submit"}},[e._v("Добавить")])])])])])],1)},Re=[],Je={name:"CreateUserForm",props:["email","password"],data:function(){return{isComponentModalActive:!1,formProps:{name:"",email:"",department:null},server_error:""}},computed:Object(o["a"])({},Object(w["b"])(["getDepartments"])),methods:{getDepartmentsList:function(){this.$store.dispatch("retrieveDepartments")},addUser:function(){var e=this;this.$store.dispatch("addUser",{department_id:this.formProps.department?this.formProps.department.id:"",name:this.formProps.name,email:this.formProps.email}).then((function(){e.isComponentModalActive=!1,e.$store.dispatch("retrieveUsers"),e.formProps.department=null,e.formProps.email="",e.formProps.name=""})).catch((function(t){"failed adding"===t.response.data.result?e.server_error="Что то пошло не так":"email already taken"===t.response.data.result?e.server_error="Пользователь с таким email уже существует":e.server_error=t.response.data.result}))},clearServerError:function(){this.server_error=""}}},Ne=Je,Ge=Object(d["a"])(Ne,Fe,Re,!1,null,null,null),He=Ge.exports,Qe={name:"AppUsers",data:function(){return{isLoading:!1}},computed:Object(o["a"])({},Object(w["b"])(["getUsers"])),created:function(){var e=this;this.isLoading=!0,this.$store.dispatch("retrieveUsers").then((function(){e.isLoading=!1}))},components:{CreateUserForm:He}},Be=Qe,Ke=Object(d["a"])(Be,Te,Ve,!1,null,"5d13b8e8",null),We=Ke.exports,Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-three-fifths is-8"},[a("CreateDepartmentForm"),a("b-table",{attrs:{data:e.getDepartments,striped:!0,hoverable:!0,loading:e.isLoading},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"name",label:"Название"}},[e._v(" "+e._s(t.row.name)+" ")]),a("b-table-column",{attrs:{field:"users_count",label:"Кол-во сотрудников",numeric:""}},[e._v(" "+e._s(t.row.users_count)+" ")]),a("b-table-column",{attrs:{field:"date",label:"Создан",centered:""}},[a("span",{staticClass:"tag is-info"},[e._v(" "+e._s(new Date(t.row.date).toLocaleDateString())+" ")])])]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),a("div",[e._v(" У вас еще нет ни одного отдела. "),a("br")])])])])],2)],1)])},Ye=[],Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("button",{staticClass:"button is-info",on:{click:function(t){e.isComponentModalActive=!0}}},[e._v(" Добавить отдел ")]),a("b-modal",{attrs:{active:e.isComponentModalActive,"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-modal":""},on:{"update:active":function(t){e.isComponentModalActive=t}}},[a("form",{attrs:{action:""},on:{submit:function(t){return t.preventDefault(),e.addDepartment(t)}}},[a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[e._v("Добавить отдел")])]),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"Название",type:{"is-danger":""!==e.server_error},message:e.server_error}},[a("b-input",{attrs:{type:"text",rounded:"",icon:"account-multiple",size:"is-medium",value:e.name,required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){e.isComponentModalActive=!1}}},[e._v("Отмена")]),a("button",{staticClass:"button is-primary",attrs:{"native-type":"submit"}},[e._v("Добавить")])])])])])],1)},et=[],tt={name:"CreateDepartmentForm",data:function(){return{isComponentModalActive:!1,name:"",server_error:""}},methods:{addDepartment:function(){var e=this;this.$store.dispatch("addDepartment",{name:this.name}).then((function(){e.isComponentModalActive=!1,e.$store.dispatch("retrieveDepartments"),e.name=""})).catch((function(t){"failed adding"===t.response.data.result?e.server_error="Что то пошло не так":"name already taken"===t.response.data.result?e.server_error="Отдел с таким названием уже существует":e.server_error=t.response.data.result}))},clearServerError:function(){this.server_error=""}}},at=tt,nt=Object(d["a"])(at,Ze,et,!1,null,null,null),st=nt.exports,rt={name:"AppDepartments",data:function(){return{isLoading:!1}},computed:Object(o["a"])({},Object(w["b"])(["getDepartments"])),created:function(){var e=this;this.isLoading=!0,this.$store.dispatch("retrieveDepartments").then((function(){e.isLoading=!1}))},components:{CreateDepartmentForm:st}},it=rt,ot=Object(d["a"])(it,Xe,Ye,!1,null,"7198f958",null),lt=ot.exports,ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" Настройки ")])},ut=[],mt={name:"AppSettings"},dt=mt,pt=Object(d["a"])(dt,ct,ut,!1,null,"a3553628",null),ft=pt.exports,vt=[{path:"/",name:"home",component:U,meta:{requiresVisitor:!0}},{path:"/about",name:"about",component:R},{path:"/personal",name:"personal",component:de},{path:"/login",name:"login",component:B,meta:{requiresVisitor:!0}},{path:"/logout",name:"logout",component:ee,meta:{requiresAuth:!0}},{path:"/register",name:"register",component:ie,meta:{requiresVisitor:!0}},{path:"/app",name:"app",component:he,meta:{requiresAuth:!0}},{path:"/app/vacations",name:"app_vacations",component:xe,meta:{requiresAuth:!0}},{path:"/app/vacations/:id",name:"app_vacations_view",component:Ae,meta:{requiresAuth:!0}},{path:"/app/smeni",name:"app_smeni",component:Ie,meta:{requiresAuth:!0}},{path:"/app/users",name:"app_users",component:We,meta:{requiresAuth:!0}},{path:"/app/departments",name:"app_departments",component:lt,meta:{requiresAuth:!0}},{path:"/app/settings",name:"app_settings",component:ft,meta:{requiresAuth:!0}}],bt=vt;n["a"].config.productionTip=!1,n["a"].use(E["a"]),n["a"].use(s["a"]);var _t=new E["a"]({routes:bt,mode:"history"});_t.beforeEach((function(e,t,a){e.matched.some((function(e){return e.meta.requiresAuth}))?j.getters.loggedIn?a():a({name:"login"}):e.matched.some((function(e){return e.meta.requiresVisitor}))&&j.getters.loggedIn?a({name:"app"}):a()})),new n["a"]({render:function(e){return e($)},store:j,router:_t}).$mount("#app")},"5fbe":function(e,t,a){e.exports=a.p+"img/logo2.df172007.png"},6887:function(e,t,a){"use strict";var n=a("29f2"),s=a.n(n);s.a},a557:function(e,t,a){}});
//# sourceMappingURL=app.64bb8610.js.map